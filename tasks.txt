task 1: Configure log rotation for temperature.log (rotate at 1 MB, compress).
sudo nano /etc/logrotate.d/iot_logger
#
        /home/peter/iot_logger/logs/temperature.log {
              size 1M
              compress
              copytruncate
              missingok
              notifempty
              rotate 5
              su peter peter
            }   
#
sudo logrotate -d /etc/logrotate.d/iot_logger

task 2: Test by forcing a rotation.
sudo logrotate -f /etc/logrotate.d/iot_logger

task 3: Schedule the Python script to run every 5 minutes with cron.
crontab -e
# at the end of the file we add: 
*/5 * * * * /usr/bin/python3 /home/peter/iot_logger/scripts/sensor_script.py >> /home/peter/iot_logger/logs/temperature.log 2>&1  

task 4: Verify log growth over time.
cat ~/iot_logger/logs/temperature.log #there is 5 minutes difference between readings
###
2025-09-04 23:10:18 - [unknown] Sensor reading: 23.63°C
2025-09-04 23:10:20 - [unknown] Sensor reading: 20.48°C
2025-09-04 23:10:22 - [unknown] Sensor reading: 25.26°C
2025-09-04 23:15:01 - [unknown] Sensor reading: 29.86�C
2025-09-04 23:15:03 - [unknown] Sensor reading: 23.48�C
2025-09-04 23:15:05 - [unknown] Sensor reading: 20.71�C
### 

task 5: Compress old logs into .tar.gz in data/.
tar -czf ~/iot_logger/data/logs_backup_$(date +%Y-%m-%d).tar.gz *.log*
ls -l ~/iot_logger/data/
###
total 44
-rw-rw-r-- 1 peter peter   230 سبت  4 00:13 clean_readings.txt
-rw-rw-r-- 1 peter peter  9620 سبت  4 23:23 logs_backup_2025-09-04.tar.gz
-rw-rw-r-- 1 peter peter   725 سبت  3 23:16 readings.txt
-rw-rw-r-- 1 peter peter  1705 سبت  4 00:44 sensor.log
-rw-r--r-- 1 peter peter 12813 أغس 31 22:38 services
-rwxrwxr-x 1 peter peter   568 سبت  4 00:44 temperature.log
###

task 6: Simulate sending archives to /home/<username>/server/ using cp, scp, or rsync. (hint:
use can use scp and copy to destination directory in another path on the same machine just for simulation).
cd 
mkdir server 
cp ~/iot_logger/data/logs_backup_*.tar.gz /home/peter/server/
cd server
rm logs_backup_2025-09-04.tar.gz
scp ~/iot_logger/data/logs_backup_*.tar.gz /home/peter/server/
rm logs_backup_2025-09-04.tar.gz
rsync -av ~/iot_logger/data/logs_backup_*.tar.gz /home/peter/server/
